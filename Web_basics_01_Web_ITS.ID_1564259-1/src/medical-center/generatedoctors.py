#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Ä–∞—á–µ–π
–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä "–ó–¥–æ—Ä–æ–≤—å–µ"
"""

def generate_doctors_html():
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Ä–∞—á–µ–π"""
    
    # –î–∞–Ω–Ω—ã–µ –æ –≤—Ä–∞—á–∞—Ö
    doctors = [
        {
            "name": "–ò–≤–∞–Ω–æ–≤–∞ –ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–Ω–∞",
            "specialization": "–¢–µ—Ä–∞–ø–µ–≤—Ç –≤—ã—Å—à–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
            "experience": "15 –ª–µ—Ç",
            "bio": "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ª–µ—á–µ–Ω–∏–∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ—Ä–≥–∞–Ω–æ–≤. –†–µ–≥—É–ª—è—Ä–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –≤–µ–¥—É—â–∏—Ö –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏—è—Ö —Å—Ç—Ä–∞–Ω—ã.",
            "photo": "images/doctor1.jpg"
        },
        {
            "name": "–ü–µ—Ç—Ä–æ–≤ –ê–ª–µ–∫—Å–µ–π –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–∏—á",
            "specialization": "–•–∏—Ä—É—Ä–≥, –∫–∞–Ω–¥–∏–¥–∞—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –Ω–∞—É–∫",
            "experience": "20 –ª–µ—Ç",
            "bio": "–ü—Ä–æ–≤–æ–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –ê–≤—Ç–æ—Ä –±–æ–ª–µ–µ 30 –Ω–∞—É—á–Ω—ã—Ö —Ä–∞–±–æ—Ç –ø–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∏–º –º–µ—Ç–æ–¥–∏–∫–∞–º.",
            "photo": "images/doctor2.jpg"
        },
        {
            "name": "–°–∏–¥–æ—Ä–æ–≤–∞ –ï–ª–µ–Ω–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞",
            "specialization": "–ü–µ–¥–∏–∞—Ç—Ä, –≤—Ä–∞—á –≤—ã—Å—à–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
            "experience": "12 –ª–µ—Ç",
            "bio": "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ª–µ—á–µ–Ω–∏–∏ –¥–µ—Ç–µ–π –≤—Å–µ—Ö –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –≥—Ä—É–ø–ø. –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –ø–µ–¥–∏–∞—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–π.",
            "photo": "images/doctor3.jpg"
        },
        {
            "name": "–ö–æ–∑–ª–æ–≤ –î–º–∏—Ç—Ä–∏–π –°–µ—Ä–≥–µ–µ–≤–∏—á",
            "specialization": "–ù–µ–≤—Ä–æ–ª–æ–≥, –¥–æ–∫—Ç–æ—Ä –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –Ω–∞—É–∫",
            "experience": "25 –ª–µ—Ç",
            "bio": "–≠–∫—Å–ø–µ—Ä—Ç –≤ –æ–±–ª–∞—Å—Ç–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –ª–µ—á–µ–Ω–∏—è –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –†–∞–∑—Ä–∞–±–æ—Ç–∞–ª —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥–∏–∫–∏ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏.",
            "photo": "images/doctor4.jpg"
        },
        {
            "name": "–ù–∏–∫–æ–ª–∞–µ–≤–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞",
            "specialization": "–ö–∞—Ä–¥–∏–æ–ª–æ–≥, –≤—Ä–∞—á –ø–µ—Ä–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
            "experience": "10 –ª–µ—Ç",
            "bio": "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –∏ –ª–µ—á–µ–Ω–∏–∏ —Å–µ—Ä–¥–µ—á–Ω–æ-—Å–æ—Å—É–¥–∏—Å—Ç—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π. –í–ª–∞–¥–µ–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ —ç—Ö–æ–∫–∞—Ä–¥–∏–æ–≥—Ä–∞—Ñ–∏–∏.",
            "photo": "images/doctor5.jpg"
        },
        {
            "name": "–§—ë–¥–æ—Ä–æ–≤ –ò–≥–æ—Ä—å –í–∞—Å–∏–ª—å–µ–≤–∏—á",
            "specialization": "–û—Ä—Ç–æ–ø–µ–¥-—Ç—Ä–∞–≤–º–∞—Ç–æ–ª–æ–≥",
            "experience": "18 –ª–µ—Ç",
            "bio": "–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –ª–µ—á–µ–Ω–∏—é –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –æ–ø–æ—Ä–Ω–æ-–¥–≤–∏–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∞–ø–ø–∞—Ä–∞—Ç–∞. –ü—Ä–æ–≤–æ–¥–∏—Ç –∞—Ä—Ç—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.",
            "photo": "images/doctor6.jpg"
        }
    ]
    
    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML-–∫–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—Ä–∞—á–∞
    doctors_html = ""
    for i, doctor in enumerate(doctors, 1):
        doctor_html = f'''
            <!-- –í—Ä–∞—á {i} -->
            <article class="doctor-card" role="article" aria-labelledby="doctor{i}-name">
                <div class="doctor-photo">
                    <img src="{doctor['photo']}" alt="{doctor['name']} - {doctor['specialization']}" width="300" height="300">
                </div>
                <div class="doctor-info">
                    <h3 id="doctor{i}-name">{doctor['name']}</h3>
                    <p class="specialization">{doctor['specialization']}</p>
                    <p class="experience">–°—Ç–∞–∂ —Ä–∞–±–æ—Ç—ã: {doctor['experience']}</p>
                    <p class="bio">{doctor['bio']}</p>
                </div>
            </article>
        '''
        doctors_html += doctor_html
    
    # –ü–æ–ª–Ω—ã–π HTML-–¥–æ–∫—É–º–µ–Ω—Ç
    html_template = f'''<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–ù–∞—à–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã: –≤—Ä–∞—á–∏ –≤—ã—Å—à–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –Ω–∞—É–∫ —Å –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã.">
    <title>–ù–∞—à–∏ –≤—Ä–∞—á–∏ - –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä "–ó–¥–æ—Ä–æ–≤—å–µ"</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header role="banner">
        <h1>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä "–ó–¥–æ—Ä–æ–≤—å–µ"</h1>
        <p class="generated-info">üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ Python-—Å–∫—Ä–∏–ø—Ç–æ–º</p>
    </header>

    <nav role="navigation" aria-label="–û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é">
        <ul>
            <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="about.html">–û –Ω–∞—Å</a></li>
            <li><a href="services.html">–£—Å–ª—É–≥–∏</a></li>
            <li><a href="doctors-script.html" aria-current="page">–í—Ä–∞—á–∏ (Auto)</a></li>
            <li><a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        </ul>
    </nav>

    <main role="main" class="doctors-main">
        <section class="doctors-intro">
            <h2>–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤</h2>
            <p>–í –Ω–∞—à–µ–º –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–º —Ü–µ–Ω—Ç—Ä–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤—Ä–∞—á–∏ –≤—ã—Å—à–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –∏ –¥–æ–∫—Ç–æ—Ä–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –Ω–∞—É–∫ —Å –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã.</p>
            <div class="stats">
                <p><strong>–í—Å–µ–≥–æ –≤—Ä–∞—á–µ–π:</strong> {len(doctors)}</p>
                <p><strong>–°—Ä–µ–¥–Ω–∏–π —Å—Ç–∞–∂:</strong> {calculate_average_experience(doctors)} –ª–µ—Ç</p>
            </div>
        </section>

        <section class="doctors-grid">
            {doctors_html}
        </section>
    </main>

    <footer role="contentinfo">
        <p>¬© 2023 –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä "–ó–¥–æ—Ä–æ–≤—å–µ". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        <p class="generated-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞: {get_current_datetime()}</p>
    </footer>

    <script src="js/script.js"></script>
</body>
</html>'''
    
    return html_template

def calculate_average_experience(doctors):
    """–í—ã—á–∏—Å–ª—è–µ—Ç —Å—Ä–µ–¥–Ω–∏–π —Å—Ç–∞–∂ —Ä–∞–±–æ—Ç—ã –≤—Ä–∞—á–µ–π"""
    total_years = 0
    for doctor in doctors:
        # –ò–∑–≤–ª–µ–∫–∞–µ–º —á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ "X –ª–µ—Ç"
        years = int(''.join(filter(str.isdigit, doctor['experience'])))
        total_years += years
    
    return round(total_years / len(doctors))

def get_current_datetime():
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è"""
    from datetime import datetime
    return datetime.now().strftime("%d.%m.%Y %H:%M:%S")

def save_html_file(html_content, filename="doctors-script.html"):
    """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç HTML-–∫–æ–Ω—Ç–µ–Ω—Ç –≤ —Ñ–∞–π–ª"""
    try:
        with open(filename, 'w', encoding='utf-8') as file:
            file.write(html_content)
        print(f"‚úÖ –§–∞–π–ª '{filename}' —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!")
        print(f"üìä –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤—Ä–∞—á–µ–π: {html_content.count('doctor-card')}")
        return True
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞: {e}")
        return False

def main():
    """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    print("üöÄ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Ä–∞—á–µ–π - –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä '–ó–¥–æ—Ä–æ–≤—å–µ'")
    print("=" * 60)
    
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HTML-–∫–æ–Ω—Ç–µ–Ω—Ç
    html_content = generate_doctors_html()
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª
    if save_html_file(html_content):
        print("üéâ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞!")
        print("üìÅ –§–∞–π–ª: doctors-script.html")
        print("üåê –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞")
    else:
        print("üí• –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã")

if __name__ == "__main__":
    main()